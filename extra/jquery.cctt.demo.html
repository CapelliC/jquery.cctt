<!DOCTYPE html>
<!--
 * Author: CapelliC
-->
<html>
<head>
    <meta charset="utf-8">
    <title>jQuery CCTT Demo</title>

    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

    <link rel="stylesheet" href="../jquery.cctt.css">
    <script src="../jquery.cctt.js"></script>
</head>

<p>
    First, an html table with manually expressed structure.
    Visibility should be coherent (stay correct!).
</p>

<table class='cctt'>
    <tr>
        <th>A</th>
        <th>B</th>
        <th>C</th>
    </tr>
    <tr class='cctt-collapsed'>
        <td class='cctt-control'>A.1</td>
        <td>B.1</td>
        <td>C.1</td>
    </tr>
     <tr style='display:none;'>
        <td></td>
        <td>B.1.1</td>
        <td>C.1.1</td>
     </tr>
     <tr style='display:none;'>
        <td></td>
        <td>B.1.2</td>
        <td>C.1.2</td>
     </tr>
    <tr class='cctt-expanded'>
        <td class='cctt-control'>A.2</td>
        <td>B.2</td>
        <td>C.2</td>
    </tr>
    <tr class='cctt-expanded'>
        <td class='cctt-control'>A3</td>
        <td>B</td>
        <td>C</td>
    </tr>
</table>

<p>Next, a script constructed one.</p>

<div id='fill-with-table'></div>

<script>

    const trace = console.log
    trace('here')
    
    $.getScript('html_uty.js')
    
    $(function() {
        trace('here')
        
        $('.cctt').cctt()

        trace('there')

            $('#fill-with-table').html(table({id:'t-cctt', class:'cctt'}, [
                tr({class:'cctt-control'}, ['A','B','C'].map(th)),
                tr(['1','B','C'].map(td)),
                tr(['2','B','C'].map(td)),
                tr(['3','B','C'].map(td)),
            ]))

            trace('t-cctt', $('#t-cctt'))
            $('#t-cctt').cctt()
    })
    
</script>
